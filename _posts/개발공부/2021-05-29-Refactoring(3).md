---
published: false
comments: true
date: 2021-05-29 19:00 GMT+0900
title: 리팩토링(3)_method 정리
categories:
 - Refactoring
tags:
 - develop
 - Refactoring
---

# Refactoring (3)_method 정리

### 1. 매서드 추출

* **어떤 코드를 그룹으로 묶어도 괜찮다고 판단이 된다면, 그 <u>코드를 빼내어 목적을 잘 나타내는 직관적인 이름의 method로 만들자.</u>**

#### 방법

* 목적에 부합하는 이름의 새로운 method를 생성하자. 이 때 이름은 원리가 아닌 기능을 나타내는 이름으로 한다.
  * method로 빼낼 코드가 한 줄의 명령이나 함수 호출 같이 아주 간단한 것이라면 새 method명을 통해 그 코드의 기능(목적)을 더 잘 드러낼 수 있을 때만 추출을 실시하자. **더 이해하기 쉬운 이름으로 추출하지 못할 경우 코드를 추출하지 말아야 한다.**
* 기존 method에서 빼낸 코드를 새로 생성한 method로 복사하자
* 빼낸 코드에서 기존 method의 모든 지역변수 참조를 찾자. 
  그것들을 새로 생성한 method의 지역변수나 매개변수로 사용할 것이다.
* 빼낸 코드 안에서만 사용되는 임시변수가 있는지 파악해서 있다면 그것들을 새로 생성한 method안에 임시변수로 선언
* 추출 코드에 의해 변경되는 지역변수가 있는지 파악하자. 
  만약 하나의 지역변수만 변경된다면 추출 코드를 method 호출처럼 취급할 수 있는지 알아내고, 그 결과를 변수에 대입할 수 있는지 알아내자. 이렇게 하기 까다롭거나 둘 이상의 지역변수가 변경될 때는 method를 추출하기 위해 먼저 임시변수 분리 등의 기법을 적용해야 할 수 있다. 임시변수를 제거하려면 <u>임시변수를 method 호출로 전환 기법</u>을 적용하면 된다.
* 빼낸 코드에서 읽어들인 지역변수를 대상 method에 매개변수로 전달한다.
* 모든 지역변수 처리를 완료했으면 컴파일을 실시하자
* 원본 method안에 있는 빼낸 코드 부분을 새로 생성한 method 호출로 수정하자
* 컴파일 및 테스트를 진행한다.





> **참고자료**
>
> - 리팩토링_코드 품질을 개선하는 객체지향 사고법 _마틴파울러 저